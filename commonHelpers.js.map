{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    const currentDate = new Date();\n\n    if (selectedDate < currentDate) {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Please choose a date in the future\",\n      });\n      document.getElementById(\"start-btn\").disabled = true;\n    } else {\n      document.getElementById(\"start-btn\").disabled = false;\n    }\n  },\n};\nconst datetimePicker = flatpickr(\"#datetime-picker\", options);\nfunction addLeadingZero(value) {\n  return value < 10 ? `0${value}` : value;\n}\nfunction updateTimer(targetDate) {\n  const timerInterval = setInterval(() => {\n    const now = new Date().getTime();\n    const distance = targetDate - now;\n\n    if (distance <= 0) {\n      clearInterval(timerInterval);\n      document.getElementById(\"days\").textContent = \"00\";\n      document.getElementById(\"hours\").textContent = \"00\";\n      document.getElementById(\"minutes\").textContent = \"00\";\n      document.getElementById(\"seconds\").textContent = \"00\";\n      iziToast.success({\n        title: \"Success\",\n        message: \"Countdown finished!\",\n      });\n      document.getElementById(\"datetime-picker\").disabled = false;\n      document.getElementById(\"start-btn\").disabled = true;\n    } else {\n      const days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      const seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n      document.getElementById(\"days\").textContent = addLeadingZero(days);\n      document.getElementById(\"hours\").textContent = addLeadingZero(hours);\n      document.getElementById(\"minutes\").textContent = addLeadingZero(minutes);\n      document.getElementById(\"seconds\").textContent = addLeadingZero(seconds);\n    }\n  }, 1000);\n}\n\ndocument.getElementById(\"start-btn\").addEventListener(\"click\", () => {\n  const targetDate = datetimePicker.selectedDates[0].getTime();\n  updateTimer(targetDate);\n  document.getElementById(\"datetime-picker\").disabled = true;\n  document.getElementById(\"start-btn\").disabled = true;\n});"],"names":["options","selectedDates","iziToast","datetimePicker","flatpickr","addLeadingZero","value","updateTimer","targetDate","timerInterval","now","distance","days","hours","minutes","seconds"],"mappings":"2FAKA,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACAA,EAAc,CAAC,EAChB,IAAI,MAGtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACD,SAAS,eAAe,WAAW,EAAE,SAAW,IAEhD,SAAS,eAAe,WAAW,EAAE,SAAW,EAEnD,CACH,EACMC,EAAiBC,EAAU,mBAAoBJ,CAAO,EAC5D,SAASK,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACpC,CACA,SAASC,EAAYC,EAAY,CAC/B,MAAMC,EAAgB,YAAY,IAAM,CACtC,MAAMC,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAWH,EAAaE,EAE9B,GAAIC,GAAY,EACd,cAAcF,CAAa,EAC3B,SAAS,eAAe,MAAM,EAAE,YAAc,KAC9C,SAAS,eAAe,OAAO,EAAE,YAAc,KAC/C,SAAS,eAAe,SAAS,EAAE,YAAc,KACjD,SAAS,eAAe,SAAS,EAAE,YAAc,KACjDP,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qBACjB,CAAO,EACD,SAAS,eAAe,iBAAiB,EAAE,SAAW,GACtD,SAAS,eAAe,WAAW,EAAE,SAAW,OAC3C,CACL,MAAMU,EAAO,KAAK,MAAMD,EAAY,KAAoB,EAClDE,EAAQ,KAAK,MAAOF,GAAY,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EACxEG,EAAU,KAAK,MAAOH,GAAY,IAAO,GAAK,KAAQ,IAAO,GAAG,EAChEI,EAAU,KAAK,MAAOJ,GAAY,IAAO,IAAO,GAAI,EAE1D,SAAS,eAAe,MAAM,EAAE,YAAcN,EAAeO,CAAI,EACjE,SAAS,eAAe,OAAO,EAAE,YAAcP,EAAeQ,CAAK,EACnE,SAAS,eAAe,SAAS,EAAE,YAAcR,EAAeS,CAAO,EACvE,SAAS,eAAe,SAAS,EAAE,YAAcT,EAAeU,CAAO,CACxE,CACF,EAAE,GAAI,CACT,CAEA,SAAS,eAAe,WAAW,EAAE,iBAAiB,QAAS,IAAM,CACnE,MAAMP,EAAaL,EAAe,cAAc,CAAC,EAAE,QAAO,EAC1DI,EAAYC,CAAU,EACtB,SAAS,eAAe,iBAAiB,EAAE,SAAW,GACtD,SAAS,eAAe,WAAW,EAAE,SAAW,EAClD,CAAC"}